{% extends "varasto/base_main.html" %}

{% load static %}

{% block stylesheet %}
<link rel="stylesheet" type="text/css" href="{% static 'varasto/new_event.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'varasto/base_main.css' %}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
{% endblock %}

{% block title %}New event{% endblock %}
{% block path %}New event{% endblock %}
{% block page %}New event{% endblock %}

{% block main_content %}
<div class="new_event_warp">
    <div class="d-flex justify-content-center pt-5" style="">
        <div class="d-flex flex-column align-items-end w-50">
            <div class="row g-3 w-100">
                <div class="col-auto w-100">
                    <form method="get" action="">
                    {% comment %} {% csrf_token %} {% endcomment %}
                    <div class="d-flex align-items-end">
                        <div class="mb-3 me-3 w-100">
                            <input type="hidden" name="add_item" value="{{changed_item.id}}">
                            <label for="exampleFormControlInput1" class="form-label">Skannaa opiskelijakortti tai kirjoittaa käsin opiskelijanumero.</label>
                            <input name="add_user" type="text" class="form-control" id="exampleFormControlInput1" placeholder="kirjoittaa opiskelijanumero tai hänen nimi">
                        </div>
                        <div class="mb-3">
                            <button name="_add_item" type="submit" class="list__button list__button_bg_green btn_strech">
                                <span class="bi bi-plus font-size"></span>
                            </button>
                        </div>
                    </div>
                    </form>
                </div>
                
                <div class="col-auto w-100" style="{% if changed_user %}display: block{%else%}display: none{%endif%};">
                    <form method="get" action="remove_user_from_event/">
                        <div class="d-flex flex-row justify-content-between">
                            <div class="mb-3 me-3">
                                <input type="hidden" name="added_user" value="{{changed_user}}">
                                <h4>{{changed_user.first_name}} {{changed_user.last_name}}</h4>
                                <p>{{changed_user.email}}</p>
                            </div>
                            <div class="mb-3 d-flex">
                                <button name="_remove_item" type="submit" class="list__button list__button_bg_red btn_strech">
                                    <span class="bi bi-dash font-size"></span>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <form class="row g-3 mt-3 w-100" method="get" action="">
                <div class="col-auto w-100">
                    <div class="d-flex align-items-end">
                        <div class="mb-3 me-3">
                            <button type="button" class="list__button list__button_bg_green btn_strech btn-small">
                                <span class="list__button__text">Lisää tuote</span>
                            </button>
                        </div>
                        <div class="mb-3 me-3 w-100">
                            <input type="hidden" name="add_user" value="{{changed_user}}">
                            <label for="exampleFormControlInput1" class="form-label">Skannaa tuote, kirjoittaa käsin tuotenumero tai lisää napilla.</label>
                            <input name="add_item" type="text" class="form-control" id="exampleFormControlInput1" placeholder="kirjoittaa tuotenumero">
                        </div>
                        <div class="mb-3">
                            <button type="submit" class="list__button list__button_bg_green btn_strech">
                                <span class="bi bi-plus font-size"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </form>

            <div class="added_items row mt-5" >
                <form>
                    <div class="col-auto" style="{% if changed_item %}display: block{%else%}display: none{%endif%};">
                        <div class="d-flex flex-row justify-content-between px-2" >
                            <div class="mb-3 me-3">
                                <h4>{{changed_item.item_name}} {{changed_item.brand}} {{changed_item.model}}</h4>
                                <p>{{changed_item.item_type}} {{changed_item.parameters}} {{changed_item.size}}</p>
                            </div>
                            <div class="mb-3 d-flex">
                                <button type="button" class="list__button list__button_bg_red btn_strech">
                                    <span class="bi bi-dash font-size"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                </form>
            </div>
        </div>
    </div>

    
    <div class="main_buttons right pb-2 pe-2">
        <div>
            <form action="" method="post">
                <input type="hidden" name="changed_user" value="{{changed_user.id}}">
                <input type="hidden" name="item" value="{{changed_user}}">
                <button type="button" class="button_s me-5">
                    <span class="button_s__text">PERUUTA</span>
                </button> 
                <button type="button" class="button_s">
                    <span class="button_s__text">TALLENNA</span>  
                </button>
            </form>
        </div>
    </div>
</div>

{% endblock %}
